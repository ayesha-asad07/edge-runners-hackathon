import os
from openai import OpenAI

api_key = os.getenv('LLAMA_API_KEY')
if api_key is None:
    raise ValueError("API key not found. Please set the 'LLAMA_API_KEY' environment variable.")

client = OpenAI(
    api_key=api_key,
    base_url="https://api.llama-api.com"
)

response = client.chat.completions.create(
    model="llama3.1-8b",
    messages=[
        {"role": "system", "content": "Assistant is a large language model trained by OpenAI."},
        {"role": "user", "content": "Generate synthetic data for detection of malware and running high memory apps on background"}
    ]

)

generated_data = response.choices[0].message.content

with open('malware_data.txt', 'w') as file:
    file.write(generated_data)

print("Data has been saved to 'malware_data.txt'.")
